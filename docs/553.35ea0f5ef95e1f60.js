"use strict";(self.webpackChunkwedding_guests=self.webpackChunkwedding_guests||[]).push([[553],{8553:(E,m,i)=>{i.r(m),i.d(m,{ExportModule:()=>$});var r,h=i(6814),x=i(7582),f=i(1791),C=i(2460),t=i(5879),O=i(6396),T=i(1073),v=i(2840),F=i(855),b=i(1958);const P=["svg"];function Z(s,e){if(1&s&&(t.O4$(),t._UZ(0,"rect",7)),2&s){const n=e.index,o=t.oxw();t.uIk("x",n*o.paperWMm10)("width",o.paperWMm10)("height",o.paperHMm10)}}function W(s,e){if(1&s&&(t.O4$(),t._UZ(0,"g",8)),2&s){const n=e.$implicit,o=t.oxw();t.Q6J("person",n)("standalone",!1)("print",!0),t.uIk("transform","translate("+(n.page*o.paperWMm10+n.col*o.widthMm10)+", "+n.row*o.widthMm10+")")}}function y(s,e){if(1&s&&(t.O4$(),t._UZ(0,"rect",7)),2&s){const n=e.index,o=t.oxw();t.uIk("x",n*o.paperWMm10)("width",o.paperWMm10)("height",o.paperHMm10)}}function H(s,e){if(1&s&&(t.O4$(),t._UZ(0,"g",8)),2&s){const n=e.$implicit,o=t.oxw();t.Q6J("person",n)("standalone",!1)("print",!1),t.uIk("transform","translate("+(n.page*o.paperWMm10+n.col*o.widthMm10)+", "+n.row*o.widthMm10+")")}}const M=function(){return[]};let d=((r=class{constructor(e,n){this.ds=e,this.cdr=n,this.loaded=!1,this.paperHMm10=10,this.paperWMm10=10,this.widthMm10=100,this.pages=0,this.viewbox="",this.data=[]}ngOnInit(){this.ds.printSettings.pipe((0,f.t)(this)).pipe((0,C.M)(this.ds.state$)).subscribe(([{marginMm:e,sizeMm:n,paddingMm:o,paperHMm:J,paperWmm:A},{data:a}])=>{this.widthMm10=10*n+20*(o+e),this.paperHMm10=10*J,this.paperWMm10=10*A;const u=Math.floor(this.paperWMm10/this.widthMm10),w=Math.floor(this.paperHMm10/this.widthMm10);this.pages=Math.ceil(a.length/(w*u)),this.viewbox=`0 0 ${this.paperWMm10*this.pages} ${this.paperHMm10}`;let p=0;t:for(let l=0;l<=this.pages;l++)for(let c=0;c<w;c++)for(let g=0;g<u;g++){if(p>=a.length)break t;a[p].page=l,a[p].row=c,a[p].col=g,p++}this.data=a})}downloadSVGAsText(){const e=btoa(decodeURIComponent(encodeURIComponent(this.svg.nativeElement.outerHTML))),n=document.createElement("a"),o=new MouseEvent("click");n.download="download.svg",n.href="data:image/svg+xml;base64,"+e,n.dispatchEvent(o)}ngAfterViewInit(){window.requestAnimationFrame(()=>{this.loaded=!0,this.cdr.markForCheck()})}}).\u0275fac=function(e){return new(e||r)(t.Y36(O.D),t.Y36(t.sBO))},r.\u0275cmp=t.Xpm({type:r,selectors:[["app-print"]],viewQuery:function(e,n){if(1&e&&t.Gf(P,5),2&e){let o;t.iGM(o=t.CRH())&&(n.svg=o.first)}},decls:13,vars:13,consts:[["nz-button","",3,"disabled","click"],[1,"preview"],["xmlns","http://www.w3.org/2000/svg"],["svg",""],["y","0","stroke","#555","fill","none",4,"ngFor","ngForOf"],["name","badges",1,"badges"],["app-badge","",3,"person","standalone","print",4,"ngFor","ngForOf"],["y","0","stroke","#555","fill","none"],["app-badge","",3,"person","standalone","print"]],template:function(e,n){1&e&&(t.TgZ(0,"div")(1,"button",0),t.NdJ("click",function(){return n.downloadSVGAsText()}),t._uU(2," Download as SVG "),t.qZA(),t.TgZ(3,"div",1),t.O4$(),t.TgZ(4,"svg",2,3),t.YNc(6,Z,1,3,"rect",4),t.TgZ(7,"g",5),t.YNc(8,W,1,4,"g",6),t.qZA()(),t.TgZ(9,"svg",2),t.YNc(10,y,1,3,"rect",4),t.TgZ(11,"g",5),t.YNc(12,H,1,4,"g",6),t.qZA()()()()),2&e&&(t.xp6(1),t.Q6J("disabled",!n.loaded),t.xp6(3),t.uIk("viewbox",n.viewbox)("width",n.paperWMm10*n.pages)("height",n.paperHMm10),t.xp6(2),t.Q6J("ngForOf",t.DdM(11,M).constructor(n.pages)),t.xp6(2),t.Q6J("ngForOf",n.data),t.xp6(1),t.uIk("viewbox",n.viewbox)("width",n.paperWMm10*n.pages)("height",n.paperHMm10),t.xp6(1),t.Q6J("ngForOf",t.DdM(12,M).constructor(n.pages)),t.xp6(2),t.Q6J("ngForOf",n.data))},dependencies:[h.sg,T.F,v.ix,F.w,b.dQ],styles:[".preview[_ngcontent-%COMP%]{overflow:auto;zoom:.25;position:relative}.preview[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]:first-child{display:none}"],changeDetection:0}),r);d=(0,x.gn)([(0,f.c)()],d);var I=i(6208),Q=i(2787);let $=(()=>{class s{}return s.\u0275fac=function(n){return new(n||s)},s.\u0275mod=t.oAB({type:s}),s.\u0275inj=t.cJS({imports:[h.ez,I.m,v.sL,Q.Bz.forChild([{path:"**",component:d}])]}),s})()}}]);