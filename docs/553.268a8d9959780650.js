"use strict";(self.webpackChunkwedding_guests=self.webpackChunkwedding_guests||[]).push([[553],{8553:(A,M,i)=>{i.r(M),i.d(M,{ExportModule:()=>J});var r,f=i(6814),C=i(7582),u=i(1791),x=i(2460),t=i(5879),O=i(6396),W=i(1073),v=i(2840),F=i(855),T=i(1958);const Z=["svg"];function b(o,s){if(1&o&&(t.O4$(),t._UZ(0,"rect",8)),2&o){const n=s.index,e=t.oxw();t.uIk("x",n*e.paperWMm10)("width",e.paperWMm10)("height",e.paperHMm10)}}function H(o,s){if(1&o&&(t.O4$(),t._UZ(0,"g",9)),2&o){const n=s.$implicit,e=t.oxw();t.Q6J("person",n)("standalone",!1)("print",!0),t.uIk("transform","translate("+(n.page*e.paperWMm10+n.col*e.widthMm10)+", "+n.row*e.widthMm10+")")}}function P(o,s){if(1&o&&(t.O4$(),t._UZ(0,"rect",8)),2&o){const n=s.index,e=t.oxw();t.uIk("x",n*e.paperWMm10)("width",e.paperWMm10)("height",e.paperHMm10)}}function I(o,s){if(1&o&&(t.O4$(),t._UZ(0,"g",9)),2&o){const n=s.$implicit,e=t.oxw();t.Q6J("person",n)("standalone",!1)("print",!0),t.uIk("transform","translate("+(n.page*e.paperWMm10+n.col*e.widthMm10)+", "+n.row*e.widthMm10+")")}}function Q(o,s){if(1&o&&(t.O4$(),t._UZ(0,"g",10)),2&o){const n=s.$implicit,e=t.oxw();t.Q6J("standalone",!1)("print",!0),t.uIk("transform","translate("+(n.page*e.paperWMm10+n.col*e.widthMm10)+", "+n.row*e.widthMm10+")")}}const w=function(){return[]};let m=((r=class{constructor(s,n){this.ds=s,this.cdr=n,this.loaded=!1,this.paperHMm10=10,this.paperWMm10=10,this.marginHMm10=0,this.marginWMm10=0,this.widthMm10=100,this.pages=0,this.viewbox="",this.data=[]}ngOnInit(){this.ds.printSettings.pipe((0,u.t)(this)).pipe((0,x.M)(this.ds.state$)).subscribe(([{marginMm:s,sizeMm:n,paddingMm:e,paperHMm:_,paperWmm:k},{data:a}])=>{this.widthMm10=10*n+20*(e+s),this.paperHMm10=10*_,this.paperWMm10=10*k;const g=Math.floor(this.paperWMm10/this.widthMm10),d=Math.floor(this.paperHMm10/this.widthMm10);this.marginHMm10=(this.paperHMm10-d*this.widthMm10)/2,this.marginWMm10=(this.paperWMm10-g*this.widthMm10)/2,this.pages=Math.ceil(a.length/(d*g)),this.viewbox=`0 0 ${this.paperWMm10*this.pages} ${this.paperHMm10}`;let p=0;t:for(let l=0;l<=this.pages;l++)for(let c=0;c<d;c++)for(let h=0;h<g;h++){if(p>=a.length)break t;a[p].page=l,a[p].row=c,a[p].col=h,p++}this.data=a})}downloadSVGAsText(){const s=btoa(decodeURIComponent(encodeURIComponent(this.svg.nativeElement.outerHTML))),n=document.createElement("a"),e=new MouseEvent("click");n.download="download.svg",n.href="data:image/svg+xml;base64,"+s,n.dispatchEvent(e)}ngAfterViewInit(){window.requestAnimationFrame(()=>{this.loaded=!0,this.cdr.markForCheck()})}}).\u0275fac=function(s){return new(s||r)(t.Y36(O.D),t.Y36(t.sBO))},r.\u0275cmp=t.Xpm({type:r,selectors:[["app-print"]],viewQuery:function(s,n){if(1&s&&t.Gf(Z,5),2&s){let e;t.iGM(e=t.CRH())&&(n.svg=e.first)}},decls:15,vars:16,consts:[["nz-button","",3,"disabled","click"],[1,"preview"],["xmlns","http://www.w3.org/2000/svg"],["svg",""],["y","0","stroke","#555","fill","none",4,"ngFor","ngForOf"],["name","badges",1,"badges"],["app-badge","",3,"person","standalone","print",4,"ngFor","ngForOf"],["app-badge","",3,"standalone","print",4,"ngFor","ngForOf"],["y","0","stroke","#555","fill","none"],["app-badge","",3,"person","standalone","print"],["app-badge","",3,"standalone","print"]],template:function(s,n){1&s&&(t.TgZ(0,"div")(1,"button",0),t.NdJ("click",function(){return n.downloadSVGAsText()}),t._uU(2," Download as SVG "),t.qZA(),t.TgZ(3,"div",1),t.O4$(),t.TgZ(4,"svg",2,3),t.YNc(6,b,1,3,"rect",4),t.TgZ(7,"g",5),t.YNc(8,H,1,4,"g",6),t.qZA()(),t.TgZ(9,"svg",2),t.YNc(10,P,1,3,"rect",4),t.TgZ(11,"g",5),t.YNc(12,I,1,4,"g",6),t.qZA(),t.TgZ(13,"g",5),t.YNc(14,Q,1,3,"g",7),t.qZA()()()()),2&s&&(t.xp6(1),t.Q6J("disabled",!n.loaded),t.xp6(3),t.uIk("viewbox",n.viewbox)("width",n.paperWMm10*n.pages)("height",n.paperHMm10),t.xp6(2),t.Q6J("ngForOf",t.DdM(14,w).constructor(n.pages)),t.xp6(2),t.Q6J("ngForOf",n.data),t.xp6(1),t.uIk("viewbox",n.viewbox)("width",n.paperWMm10*n.pages)("height",n.paperHMm10),t.xp6(1),t.Q6J("ngForOf",t.DdM(15,w).constructor(n.pages)),t.xp6(1),t.uIk("transform","translate("+n.marginWMm10+" "+n.marginHMm10+")"),t.xp6(1),t.Q6J("ngForOf",n.data),t.xp6(1),t.uIk("transform","translate("+n.marginWMm10+" "+n.marginHMm10+")"),t.xp6(1),t.Q6J("ngForOf",n.data))},dependencies:[f.sg,W.F,v.ix,F.w,T.dQ],styles:[".preview[_ngcontent-%COMP%]{overflow:auto;zoom:.25;position:relative}.preview[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]:first-child{display:none}"],changeDetection:0}),r);m=(0,C.gn)([(0,u.c)()],m);var $=i(6208),y=i(2787);let J=(()=>{class o{}return o.\u0275fac=function(n){return new(n||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({imports:[f.ez,$.m,v.sL,y.Bz.forChild([{path:"**",component:m}])]}),o})()}}]);